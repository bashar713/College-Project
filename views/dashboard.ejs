<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
</head>
<body>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <h4>Forms</h4>
                <h6>Add new category</h6>
                <form action="/actions/addCategory" method="POST" id="addCategory_form">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                    <label for="categoryName">Category name</label>
                    <input required type="text" name="categoryName" id="categoryName" class="form-control" />
                    <label for="categoryOrder">Category order</label>
                    <input required type="number" name="categoryOrder" id="categoryOrder" class="form-control" />
                    <label for="categoryImage">Category image</label>
                    <input required type="text" name="categoryImage" id="categoryImage" class="form-control" />
                    <input type="submit" form="addCategory_form" class="btn btn-primary" style="width: 100%; margin-top: 10px;" value="ADD" />
                </form>


                <br/><br/>
                <a href="/actions/logout" class="btn btn-danger">Logout</a>
            </div>
            <div class="col-lg-9">
                <h4>Data</h4>
                <br/>

                <%if(categories.length > 0){%>  
                    <table class="table table-stripes">
                        <thead>
                            <th>Category image</th>
                            <th>Category name</th>
                            <th>Category order</th>
                            <th>Is visible</th>
                            <th>Owner</th>
                        </thead>
                        <tbody>
                    <%for(let category of categories){%>
                        <tr>
                            <td><img src="<%= category.categoryImage %>" style="width:100px;" /></td>
                            <td><%= category.categoryName%></td>
                            <td><%= category.categoryOrder%></td>
                            <td><%= category.isVisible%></td>
                            <td><%= category.accountId.fullname%></td>
                            <td><a class="btn btn-primary" href="/dashboard/edit/<%=category._id%> " role="button">Edit</a></td>
                            <td><a class="btn btn-danger" href="/dashboard/delete/<%=category._id%> " role="button">Delete</a></td>
                        </tr>
                    <%}%>
                        </tbody>
                    </table>
                <%} else {%>
                    <p>There is no categories available</p>
                <%}%>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>
</html>